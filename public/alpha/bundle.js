var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function c(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function d(){return l(" ")}function $(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function h(t,n){t.value=null==n?"":n}let g;function b(t){g=t}const x=[],y=[],w=[],v=[],_=Promise.resolve();let C=!1;function k(t){w.push(t)}let P=!1;const T=new Set;function E(){if(!P){P=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];b(n),O(n.$$)}for(b(null),x.length=0;y.length;)y.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];T.has(n)||(T.add(n),n())}w.length=0}while(x.length);for(;v.length;)v.pop()();C=!1,P=!1,T.clear()}}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(k)}}const S=new Set;function N(t,n){t&&t.i&&(S.delete(t),t.i(n))}function j(t,n,e,r){if(t&&t.o){if(S.has(t))return;S.add(t),undefined.c.push((()=>{S.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function A(t){t&&t.c()}function F(t,e,s){const{fragment:u,on_mount:c,on_destroy:i,after_update:a}=t.$$;u&&u.m(e,s),k((()=>{const e=c.map(n).filter(o);i?i.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(k)}function G(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function L(t,n){-1===t.$$.dirty[0]&&(x.push(t),C||(C=!0,_.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function M(n,o,s,u,c,i,f=[-1]){const l=g;b(n);const d=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:e(),dirty:f,skip_bound:!1};let $=!1;if(d.ctx=s?s(n,o.props||{},((t,e,...r)=>{const o=r.length?r[0]:e;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),$&&L(n,t)),e})):[],d.update(),$=!0,r(d.before_update),d.fragment=!!u&&u(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(a)}else d.fragment&&d.fragment.c();o.intro&&N(n.$$.fragment),F(n,o.target,o.anchor),E()}b(l)}class U{$destroy(){G(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function q(n){let e,r,o,s,u,p,h,g,b,x,y,w,v;return{c(){e=f("main"),r=f("h2"),o=l(n[0]),s=d(),u=f("p"),p=l(n[1]),h=d(),g=f("button"),g.textContent="Fire",b=d(),x=f("div"),y=l(n[2])},m(t,a){i(t,e,a),c(e,r),c(r,o),c(e,s),c(e,u),c(u,p),c(e,h),c(e,g),c(e,b),c(e,x),c(x,y),w||(v=$(g,"click",n[3]),w=!0)},p(t,[n]){1&n&&m(o,t[0]),2&n&&m(p,t[1]),4&n&&m(y,t[2])},i:t,o:t,d(t){t&&a(e),w=!1,v()}}}function B(t,n,e){let r,{name:o}=n,{description:s}=n,{fn:u}=n;return t.$$set=t=>{"name"in t&&e(0,o=t.name),"description"in t&&e(1,s=t.description),"fn"in t&&e(4,u=t.fn)},e(2,r="not yet clicked"),[o,s,r,async()=>{e(2,r=await u())},u]}class J extends U{constructor(t){super(),M(this,t,B,q,s,{name:0,description:1,fn:4})}}const z={method:"GET",headers:{"Content-Type":"application/json"}};var D=(t,n={})=>async()=>{try{const e={...z,...n},r=await fetch(t,e);if(r.ok){const t=await r.json();return`200: ${JSON.stringify(t)}`}return`${r.status}: ${r.statusText}`}catch(t){return`500: ${t.name}: ${t.message}`}},H=D("/user",{method:"POST"}),I=D("/user"),K=D("/financial-model"),Q=D("/session",{method:"POST"});const R=[];const V=function(n,e=t){let r;const o=[];function u(t){if(s(n,t)&&(n=t,r)){const t=!R.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),R.push(e,n)}if(t){for(let t=0;t<R.length;t+=2)R[t][0](R[t+1]);R.length=0}}}return{set:u,update:function(t){u(t(n))},subscribe:function(s,c=t){const i=[s,c];return o.push(i),1===o.length&&(r=e(u)||t),s(n),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}({userName:"",currentPassword:{value:"",hash:""},state:{description:"not logged in"}});function W(n){let e,o,s,u,l,m,g,b,x,y,w,v,_,C,k;return{c(){e=f("main"),o=f("h2"),o.textContent="User challenge",s=d(),u=f("label"),u.textContent="Name:",l=d(),m=f("input"),g=d(),b=f("label"),b.textContent="Password:",x=d(),y=f("input"),w=d(),v=f("div"),_=f("button"),_.textContent="Submit",p(u,"for","user-name"),p(m,"id","user-name"),p(b,"for","user-pwd"),p(y,"id","user-pwd")},m(t,r){i(t,e,r),c(e,o),c(e,s),c(e,u),c(e,l),c(e,m),h(m,n[0]),c(e,g),c(e,b),c(e,x),c(e,y),h(y,n[1]),c(e,w),c(e,v),c(v,_),C||(k=[$(m,"input",n[3]),$(y,"input",n[4]),$(_,"click",n[2])],C=!0)},p(t,[n]){1&n&&m.value!==t[0]&&h(m,t[0]),2&n&&y.value!==t[1]&&h(y,t[1])},i:t,o:t,d(t){t&&a(e),C=!1,r(k)}}}function X(t,n,e){let r="",o="";return[r,o,()=>{V.update((t=>({...t,userName:r,currentPassword:{...t.currentPassword,value:o}})))},function(){r=this.value,e(0,r)},function(){o=this.value,e(1,o)}]}class Y extends U{constructor(t){super(),M(this,t,X,W,s,{})}}function Z(n){let e,r,o,s,u,$,p,h,g,b,x,y,w,v,_,C,k,P,T,E,O,S,N,j,A,F,G;return{c(){e=f("main"),r=f("h2"),r.textContent="User state",o=d(),s=f("table"),u=f("tr"),$=f("tc"),$.textContent="name:",p=d(),h=f("tc"),g=l(n[0]),b=d(),x=f("tr"),y=f("tc"),y.textContent="password:",w=d(),v=f("tc"),_=l(n[1]),C=d(),k=f("tr"),P=f("tc"),P.textContent="password hash:",T=d(),E=f("tc"),O=l(n[2]),S=d(),N=f("tr"),j=f("tc"),j.textContent="status:",A=d(),F=f("tc"),G=l(n[3])},m(t,n){i(t,e,n),c(e,r),c(e,o),c(e,s),c(s,u),c(u,$),c(u,p),c(u,h),c(h,g),c(s,b),c(s,x),c(x,y),c(x,w),c(x,v),c(v,_),c(s,C),c(s,k),c(k,P),c(k,T),c(k,E),c(E,O),c(k,S),c(s,N),c(N,j),c(N,A),c(N,F),c(F,G)},p(t,[n]){1&n&&m(g,t[0]),2&n&&m(_,t[1]),4&n&&m(O,t[2]),8&n&&m(G,t[3])},i:t,o:t,d(t){t&&a(e)}}}function tt(t,n,e){let r,o,s,c,i;return u(t,V,(t=>e(4,i=t))),t.$$.update=()=>{16&t.$$.dirty&&e(0,r=i.userName),16&t.$$.dirty&&e(1,o=i.currentPassword.value),16&t.$$.dirty&&e(2,s=i.currentPassword.hash),16&t.$$.dirty&&e(3,c=i.state.description)},[r,o,s,c,i]}class nt extends U{constructor(t){super(),M(this,t,tt,Z,s,{})}}function et(n){let e,r,o,s,u,l,$,p,m,h,g,b,x,y,w;return s=new nt({}),l=new Y({}),p=new J({props:{name:"Create user",description:"POST /user",fn:H}}),h=new J({props:{name:"Create session",description:"POST /session",fn:Q}}),b=new J({props:{name:"Fetch user",description:"GET /user",fn:I}}),y=new J({props:{name:"Fetch model",description:"GET /financial-model",fn:K}}),{c(){e=f("main"),r=f("h1"),r.textContent="Auth Model Spike",o=d(),A(s.$$.fragment),u=d(),A(l.$$.fragment),$=d(),A(p.$$.fragment),m=d(),A(h.$$.fragment),g=d(),A(b.$$.fragment),x=d(),A(y.$$.fragment)},m(t,n){i(t,e,n),c(e,r),c(e,o),F(s,e,null),c(e,u),F(l,e,null),c(e,$),F(p,e,null),c(e,m),F(h,e,null),c(e,g),F(b,e,null),c(e,x),F(y,e,null),w=!0},p:t,i(t){w||(N(s.$$.fragment,t),N(l.$$.fragment,t),N(p.$$.fragment,t),N(h.$$.fragment,t),N(b.$$.fragment,t),N(y.$$.fragment,t),w=!0)},o(t){j(s.$$.fragment,t),j(l.$$.fragment,t),j(p.$$.fragment,t),j(h.$$.fragment,t),j(b.$$.fragment,t),j(y.$$.fragment,t),w=!1},d(t){t&&a(e),G(s),G(l),G(p),G(h),G(b),G(y)}}}return new class extends U{constructor(t){super(),M(this,t,null,et,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
